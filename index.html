<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>15 Puzzle</title>
  <link rel="stylesheet" href="game.css" />
</head>
<body>

  <!-- ===== メニュー画面 ===== -->
  <div class="menu" id="menu">
    <h1 id="menuTitle">15パズル</h1>
    <button id="startBtn">スタート</button>
    <!-- メニュー側の歯車（ゲーム側とIDを分ける） -->
    <button id="settingsBtnMenu">⚙ 設定</button>
  </div>

  <!-- ===== ゲーム画面 ===== -->
  <div class="app" id="app" style="display:none">
    <header>
      <button class="back" id="backBtn">← メニューへ戻る</button>
      <h1 id="appTitle">15パズル</h1>

      <div class="stats">
        <div><span id="movesLabel">手数</span>: <b id="moves">0</b></div>
        <div><span id="timeLabel">時間</span>: <b id="time">00:00</b></div>
      </div>

      <!-- ゲーム側の歯車 -->
      <button class="gear" id="settingsBtn" aria-label="Settings">⚙</button>
    </header>

    <div class="grid" id="grid" aria-label="15パズル 4x4"></div>

    <div class="controls">
      <button id="shuffle">シャッフル</button>
      <button id="undo">1手戻す</button>
      <button id="reset">リセット</button>
      <button id="check" class="ok">揃ってる？</button>
      <button id="colorBtn">背景チェンジ！</button>
    </div>

    <div class="hint" id="hintText">
      クリック/タップ、矢印/WASDキー、スマホはスワイプでもOK。
    </div>

    <div class="win" id="win">🎉 クリア！ おめでとう！</div>
  </div>

  <!-- ===== 設定／説明モーダル ===== -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <span id="closeModal" class="close" aria-label="閉じる">&times;</span>

      <h2 id="modalTitle">ゲームの説明</h2>
      <p id="descText">
        このゲームは15パズルです。タイルを動かして1〜15を順番に並べましょう。
      </p>

      <hr style="margin:12px 0; opacity:.4" />
      <h3 id="h3Lang">言語設定</h3>
      <label><input type="radio" name="langOpt" value="jp" checked> 日本語</label>
      <label style="margin-left:12px;">
        <input type="radio" name="langOpt" value="en"> English
      </label>
    </div>
  </div>

  <!-- 効果音（これはOK） -->
  <audio id="se" src="決定ボタンを押す44.mp3" preload="auto"></audio>

  <!-- ★ se2 は削除 ★ -->

  <!-- ★ defer を必ず付ける ★ -->
  <script src="game.js" defer></script>
</body>
</html>
